.include "macros.inc"

.text

.global func_8021A5E8
func_8021A5E8:
/* 8021A5E8 00215B28  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 8021A5EC 00215B2C  7C 08 02 A6 */	mflr r0
/* 8021A5F0 00215B30  90 01 00 14 */	stw r0, 0x14(r1)
/* 8021A5F4 00215B34  93 E1 00 0C */	stw r31, 0xc(r1)
/* 8021A5F8 00215B38  7C 7F 1B 78 */	mr r31, r3
/* 8021A5FC 00215B3C  4B F4 AC 09 */	bl func_80165204
/* 8021A600 00215B40  C0 42 E0 34 */	lfs f2, lbl_806A92B4-_SDA2_BASE_(r2)
/* 8021A604 00215B44  3C 80 80 59 */	lis r4, lbl_80588D74@ha
/* 8021A608 00215B48  C0 22 E0 30 */	lfs f1, lbl_806A92B0-_SDA2_BASE_(r2)
/* 8021A60C 00215B4C  38 84 8D 74 */	addi r4, r4, lbl_80588D74@l
/* 8021A610 00215B50  C0 02 E0 38 */	lfs f0, lbl_806A92B8-_SDA2_BASE_(r2)
/* 8021A614 00215B54  7F E3 FB 78 */	mr r3, r31
/* 8021A618 00215B58  90 9F 00 00 */	stw r4, 0(r31)
/* 8021A61C 00215B5C  D0 5F 00 8C */	stfs f2, 0x8c(r31)
/* 8021A620 00215B60  D0 5F 00 90 */	stfs f2, 0x90(r31)
/* 8021A624 00215B64  D0 5F 00 94 */	stfs f2, 0x94(r31)
/* 8021A628 00215B68  D0 3F 00 98 */	stfs f1, 0x98(r31)
/* 8021A62C 00215B6C  D0 5F 00 9C */	stfs f2, 0x9c(r31)
/* 8021A630 00215B70  D0 5F 00 A0 */	stfs f2, 0xa0(r31)
/* 8021A634 00215B74  D0 5F 00 A4 */	stfs f2, 0xa4(r31)
/* 8021A638 00215B78  D0 1F 00 A8 */	stfs f0, 0xa8(r31)
/* 8021A63C 00215B7C  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 8021A640 00215B80  80 01 00 14 */	lwz r0, 0x14(r1)
/* 8021A644 00215B84  7C 08 03 A6 */	mtlr r0
/* 8021A648 00215B88  38 21 00 10 */	addi r1, r1, 0x10
/* 8021A64C 00215B8C  4E 80 00 20 */	blr 
/* 8021A650 00215B90  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 8021A654 00215B94  7C 08 02 A6 */	mflr r0
/* 8021A658 00215B98  90 01 00 34 */	stw r0, 0x34(r1)
/* 8021A65C 00215B9C  39 61 00 30 */	addi r11, r1, 0x30
/* 8021A660 00215BA0  48 2F CE D9 */	bl func_80517538
/* 8021A664 00215BA4  7C 7D 1B 78 */	mr r29, r3
/* 8021A668 00215BA8  48 1B F4 15 */	bl func_803D9A7C
/* 8021A66C 00215BAC  3F C0 80 59 */	lis r30, lbl_80588D60@ha
/* 8021A670 00215BB0  7F A3 EB 78 */	mr r3, r29
/* 8021A674 00215BB4  38 9E 8D 60 */	addi r4, r30, lbl_80588D60@l
/* 8021A678 00215BB8  38 A0 00 00 */	li r5, 0
/* 8021A67C 00215BBC  38 C0 00 00 */	li r6, 0
/* 8021A680 00215BC0  4B F4 B3 45 */	bl func_801659C4
/* 8021A684 00215BC4  7F A3 EB 78 */	mr r3, r29
/* 8021A688 00215BC8  48 1D 4A 19 */	bl func_803EF0A0
/* 8021A68C 00215BCC  7F A4 EB 78 */	mr r4, r29
/* 8021A690 00215BD0  38 7D 00 8C */	addi r3, r29, 0x8c
/* 8021A694 00215BD4  48 1A 44 1D */	bl func_803BEAB0
/* 8021A698 00215BD8  7F A3 EB 78 */	mr r3, r29
/* 8021A69C 00215BDC  38 80 00 01 */	li r4, 1
/* 8021A6A0 00215BE0  4B F4 B4 19 */	bl func_80165AB8
/* 8021A6A4 00215BE4  C0 22 E0 34 */	lfs f1, lbl_806A92B4-_SDA2_BASE_(r2)
/* 8021A6A8 00215BE8  38 61 00 14 */	addi r3, r1, 0x14
/* 8021A6AC 00215BEC  FC 40 08 90 */	fmr f2, f1
/* 8021A6B0 00215BF0  FC 60 08 90 */	fmr f3, f1
/* 8021A6B4 00215BF4  4B DF E5 11 */	bl func_80018BC4
/* 8021A6B8 00215BF8  3F E0 80 59 */	lis r31, lbl_80588D6D@ha
/* 8021A6BC 00215BFC  C0 22 E0 34 */	lfs f1, lbl_806A92B4-_SDA2_BASE_(r2)
/* 8021A6C0 00215C00  7C 66 1B 78 */	mr r6, r3
/* 8021A6C4 00215C04  7F A3 EB 78 */	mr r3, r29
/* 8021A6C8 00215C08  38 9F 8D 6D */	addi r4, r31, lbl_80588D6D@l
/* 8021A6CC 00215C0C  38 A0 00 10 */	li r5, 0x10
/* 8021A6D0 00215C10  48 1A 74 A5 */	bl func_803C1B74
/* 8021A6D4 00215C14  7F A3 EB 78 */	mr r3, r29
/* 8021A6D8 00215C18  38 9F 8D 6D */	addi r4, r31, -29331
/* 8021A6DC 00215C1C  4B F4 B1 99 */	bl func_80165874
/* 8021A6E0 00215C20  7C 65 1B 78 */	mr r5, r3
/* 8021A6E4 00215C24  7F A3 EB 78 */	mr r3, r29
/* 8021A6E8 00215C28  38 9E 8D 60 */	addi r4, r30, -29344
/* 8021A6EC 00215C2C  38 C0 00 00 */	li r6, 0
/* 8021A6F0 00215C30  48 1C 3A 89 */	bl func_803DE178
/* 8021A6F4 00215C34  C0 22 E0 34 */	lfs f1, lbl_806A92B4-_SDA2_BASE_(r2)
/* 8021A6F8 00215C38  38 61 00 08 */	addi r3, r1, 8
/* 8021A6FC 00215C3C  FC 40 08 90 */	fmr f2, f1
/* 8021A700 00215C40  FC 60 08 90 */	fmr f3, f1
/* 8021A704 00215C44  4B DF E4 C1 */	bl func_80018BC4
/* 8021A708 00215C48  C0 3D 00 A8 */	lfs f1, 0xa8(r29)
/* 8021A70C 00215C4C  7C 64 1B 78 */	mr r4, r3
/* 8021A710 00215C50  7F A3 EB 78 */	mr r3, r29
/* 8021A714 00215C54  48 1E 00 4D */	bl func_803FA760
/* 8021A718 00215C58  7F A3 EB 78 */	mr r3, r29
/* 8021A71C 00215C5C  38 8D C0 60 */	addi r4, r13, lbl_806A0D00-_SDA_BASE_
/* 8021A720 00215C60  4B F4 B3 45 */	bl func_80165A64
/* 8021A724 00215C64  81 9D 00 00 */	lwz r12, 0(r29)
/* 8021A728 00215C68  7F A3 EB 78 */	mr r3, r29
/* 8021A72C 00215C6C  81 8C 00 28 */	lwz r12, 0x28(r12)
/* 8021A730 00215C70  7D 89 03 A6 */	mtctr r12
/* 8021A734 00215C74  4E 80 04 21 */	bctrl 
/* 8021A738 00215C78  39 61 00 30 */	addi r11, r1, 0x30
/* 8021A73C 00215C7C  48 2F CE 49 */	bl func_80517584
/* 8021A740 00215C80  80 01 00 34 */	lwz r0, 0x34(r1)
/* 8021A744 00215C84  7C 08 03 A6 */	mtlr r0
/* 8021A748 00215C88  38 21 00 30 */	addi r1, r1, 0x30
/* 8021A74C 00215C8C  4E 80 00 20 */	blr 
/* 8021A750 00215C90  4E 80 00 20 */	blr 
/* 8021A754 00215C94  38 83 00 8C */	addi r4, r3, 0x8c
/* 8021A758 00215C98  48 1B FA D8 */	b func_803DA230
lbl_8021A75C:
/* 8021A75C 00215C9C  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 8021A760 00215CA0  7C 08 02 A6 */	mflr r0
/* 8021A764 00215CA4  90 01 00 14 */	stw r0, 0x14(r1)
/* 8021A768 00215CA8  93 E1 00 0C */	stw r31, 0xc(r1)
/* 8021A76C 00215CAC  7C 7F 1B 78 */	mr r31, r3
/* 8021A770 00215CB0  48 00 00 49 */	bl func_8021A7B8
/* 8021A774 00215CB4  38 7F 00 8C */	addi r3, r31, 0x8c
/* 8021A778 00215CB8  38 9F 00 9C */	addi r4, r31, 0x9c
/* 8021A77C 00215CBC  48 1C 9A 75 */	bl func_803E41F0
/* 8021A780 00215CC0  38 60 00 00 */	li r3, 0
/* 8021A784 00215CC4  48 1B 7A E9 */	bl func_803D226C
/* 8021A788 00215CC8  2C 03 00 00 */	cmpwi r3, 0
/* 8021A78C 00215CCC  41 82 00 0C */	beq lbl_8021A798
/* 8021A790 00215CD0  C0 22 E0 3C */	lfs f1, lbl_806A92BC-_SDA2_BASE_(r2)
/* 8021A794 00215CD4  48 00 00 08 */	b lbl_8021A79C
lbl_8021A798:
/* 8021A798 00215CD8  C0 22 E0 40 */	lfs f1, lbl_806A92C0-_SDA2_BASE_(r2)
lbl_8021A79C:
/* 8021A79C 00215CDC  38 7F 00 9C */	addi r3, r31, 0x9c
/* 8021A7A0 00215CE0  4B E0 8C 65 */	bl func_80023404
/* 8021A7A4 00215CE4  80 01 00 14 */	lwz r0, 0x14(r1)
/* 8021A7A8 00215CE8  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 8021A7AC 00215CEC  7C 08 03 A6 */	mtlr r0
/* 8021A7B0 00215CF0  38 21 00 10 */	addi r1, r1, 0x10
/* 8021A7B4 00215CF4  4E 80 00 20 */	blr 

.global func_8021A7B8
func_8021A7B8:
/* 8021A7B8 00215CF8  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 8021A7BC 00215CFC  7C 08 02 A6 */	mflr r0
/* 8021A7C0 00215D00  38 80 00 00 */	li r4, 0
/* 8021A7C4 00215D04  38 A0 00 01 */	li r5, 1
/* 8021A7C8 00215D08  90 01 00 34 */	stw r0, 0x34(r1)
/* 8021A7CC 00215D0C  38 CD 89 10 */	addi r6, r13, lbl_8069D5B0-_SDA_BASE_
/* 8021A7D0 00215D10  93 E1 00 2C */	stw r31, 0x2c(r1)
/* 8021A7D4 00215D14  93 C1 00 28 */	stw r30, 0x28(r1)
/* 8021A7D8 00215D18  7C 7E 1B 78 */	mr r30, r3
/* 8021A7DC 00215D1C  48 1E 01 CD */	bl func_803FA9A8
/* 8021A7E0 00215D20  2C 03 00 00 */	cmpwi r3, 0
/* 8021A7E4 00215D24  41 82 00 90 */	beq lbl_8021A874
/* 8021A7E8 00215D28  38 60 00 00 */	li r3, 0
/* 8021A7EC 00215D2C  48 1B 7A 81 */	bl func_803D226C
/* 8021A7F0 00215D30  2C 03 00 00 */	cmpwi r3, 0
/* 8021A7F4 00215D34  41 82 00 80 */	beq lbl_8021A874
/* 8021A7F8 00215D38  C0 3E 00 A8 */	lfs f1, 0xa8(r30)
/* 8021A7FC 00215D3C  38 61 00 14 */	addi r3, r1, 0x14
/* 8021A800 00215D40  38 9E 00 0C */	addi r4, r30, 0xc
/* 8021A804 00215D44  38 A0 00 00 */	li r5, 0
/* 8021A808 00215D48  48 1E 15 D9 */	bl func_803FBDE0
/* 8021A80C 00215D4C  2C 03 00 00 */	cmpwi r3, 0
/* 8021A810 00215D50  41 82 00 64 */	beq lbl_8021A874
/* 8021A814 00215D54  C0 01 00 1C */	lfs f0, 0x1c(r1)
/* 8021A818 00215D58  3B E1 00 08 */	addi r31, r1, 8
/* 8021A81C 00215D5C  E0 41 00 14 */	psq_l f2, 20(r1), 0, 0
/* 8021A820 00215D60  7F E3 FB 78 */	mr r3, r31
/* 8021A824 00215D64  C0 22 E0 44 */	lfs f1, lbl_806A92C4-_SDA2_BASE_(r2)
/* 8021A828 00215D68  F0 5F 00 00 */	psq_st f2, 0(r31), 0, 0
/* 8021A82C 00215D6C  D0 01 00 10 */	stfs f0, 0x10(r1)
/* 8021A830 00215D70  4B E0 8B D5 */	bl func_80023404
/* 8021A834 00215D74  38 7E 00 9C */	addi r3, r30, 0x9c
/* 8021A838 00215D78  E0 1F 00 00 */	psq_l f0, 0(r31), 0, 0
/* 8021A83C 00215D7C  E0 43 00 00 */	psq_l f2, 0(r3), 0, 0
/* 8021A840 00215D80  E0 23 80 08 */	psq_l f1, 8(r3), 1, 0
/* 8021A844 00215D84  10 02 00 2A */	ps_add f0, f2, f0
/* 8021A848 00215D88  F0 03 00 00 */	psq_st f0, 0(r3), 0, 0
/* 8021A84C 00215D8C  E0 1F 80 08 */	psq_l f0, 8(r31), 1, 0
/* 8021A850 00215D90  10 01 00 2A */	ps_add f0, f1, f0
/* 8021A854 00215D94  F0 03 80 08 */	psq_st f0, 8(r3), 1, 0
/* 8021A858 00215D98  48 29 C3 FD */	bl func_804B6C54
/* 8021A85C 00215D9C  C0 02 E0 48 */	lfs f0, lbl_806A92C8-_SDA2_BASE_(r2)
/* 8021A860 00215DA0  FC 01 00 40 */	fcmpo cr0, f1, f0
/* 8021A864 00215DA4  40 81 00 10 */	ble lbl_8021A874
/* 8021A868 00215DA8  EC 20 08 24 */	fdivs f1, f0, f1
/* 8021A86C 00215DAC  38 7E 00 9C */	addi r3, r30, 0x9c
/* 8021A870 00215DB0  4B E0 8B 95 */	bl func_80023404
lbl_8021A874:
/* 8021A874 00215DB4  80 01 00 34 */	lwz r0, 0x34(r1)
/* 8021A878 00215DB8  83 E1 00 2C */	lwz r31, 0x2c(r1)
/* 8021A87C 00215DBC  83 C1 00 28 */	lwz r30, 0x28(r1)
/* 8021A880 00215DC0  7C 08 03 A6 */	mtlr r0
/* 8021A884 00215DC4  38 21 00 30 */	addi r1, r1, 0x30
/* 8021A888 00215DC8  4E 80 00 20 */	blr 
/* 8021A88C 00215DCC  38 6D C0 60 */	addi r3, r13, lbl_806A0D00-_SDA_BASE_
/* 8021A890 00215DD0  48 00 00 04 */	b lbl_8021A894
lbl_8021A894:
/* 8021A894 00215DD4  3C 80 80 59 */	lis r4, lbl_80588DEC@ha
/* 8021A898 00215DD8  38 84 8D EC */	addi r4, r4, lbl_80588DEC@l
/* 8021A89C 00215DDC  90 83 00 00 */	stw r4, 0(r3)
/* 8021A8A0 00215DE0  4E 80 00 20 */	blr 
/* 8021A8A4 00215DE4  80 64 00 00 */	lwz r3, 0(r4)
/* 8021A8A8 00215DE8  4B FF FE B4 */	b lbl_8021A75C
