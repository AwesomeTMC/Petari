.include "macros.inc"

.text

.global func_80158BD8
func_80158BD8:
/* 80158BD8 00154118  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 80158BDC 0015411C  7C 08 02 A6 */	mflr r0
/* 80158BE0 00154120  90 01 00 14 */	stw r0, 0x14(r1)
/* 80158BE4 00154124  93 E1 00 0C */	stw r31, 0xc(r1)
/* 80158BE8 00154128  7C 9F 23 78 */	mr r31, r4
/* 80158BEC 0015412C  93 C1 00 08 */	stw r30, 8(r1)
/* 80158BF0 00154130  7C 7E 1B 78 */	mr r30, r3
/* 80158BF4 00154134  48 2A 68 85 */	bl func_803FF478
/* 80158BF8 00154138  3C 80 80 57 */	lis r4, lbl_80572F78@ha
/* 80158BFC 0015413C  38 00 00 00 */	li r0, 0
/* 80158C00 00154140  38 84 2F 78 */	addi r4, r4, lbl_80572F78@l
/* 80158C04 00154144  90 1E 00 14 */	stw r0, 0x14(r30)
/* 80158C08 00154148  7F E3 FB 78 */	mr r3, r31
/* 80158C0C 0015414C  90 9E 00 00 */	stw r4, 0(r30)
/* 80158C10 00154150  4B FF FA 2D */	bl func_8015863C
/* 80158C14 00154154  90 7E 00 14 */	stw r3, 0x14(r30)
/* 80158C18 00154158  7F C3 F3 78 */	mr r3, r30
/* 80158C1C 0015415C  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 80158C20 00154160  83 C1 00 08 */	lwz r30, 8(r1)
/* 80158C24 00154164  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80158C28 00154168  7C 08 03 A6 */	mtlr r0
/* 80158C2C 0015416C  38 21 00 10 */	addi r1, r1, 0x10
/* 80158C30 00154170  4E 80 00 20 */	blr 
/* 80158C34 00154174  80 63 00 14 */	lwz r3, 0x14(r3)
/* 80158C38 00154178  90 83 00 14 */	stw r4, 0x14(r3)
/* 80158C3C 0015417C  4E 80 00 20 */	blr 
/* 80158C40 00154180  94 21 FF C0 */	stwu r1, -0x40(r1)
/* 80158C44 00154184  7C 08 02 A6 */	mflr r0
/* 80158C48 00154188  90 01 00 44 */	stw r0, 0x44(r1)
/* 80158C4C 0015418C  93 E1 00 3C */	stw r31, 0x3c(r1)
/* 80158C50 00154190  93 C1 00 38 */	stw r30, 0x38(r1)
/* 80158C54 00154194  7C 7E 1B 78 */	mr r30, r3
/* 80158C58 00154198  48 2A 68 A9 */	bl func_803FF500
/* 80158C5C 0015419C  7C 7F 1B 78 */	mr r31, r3
/* 80158C60 001541A0  48 28 4A E9 */	bl func_803DD748
/* 80158C64 001541A4  2C 03 00 00 */	cmpwi r3, 0
/* 80158C68 001541A8  40 82 00 24 */	bne lbl_80158C8C
/* 80158C6C 001541AC  7F E3 FB 78 */	mr r3, r31
/* 80158C70 001541B0  48 28 15 39 */	bl func_803DA1A8
/* 80158C74 001541B4  2C 03 00 00 */	cmpwi r3, 0
/* 80158C78 001541B8  40 82 00 14 */	bne lbl_80158C8C
/* 80158C7C 001541BC  7F C3 F3 78 */	mr r3, r30
/* 80158C80 001541C0  48 2A 69 09 */	bl func_803FF588
/* 80158C84 001541C4  2C 03 00 00 */	cmpwi r3, 0
/* 80158C88 001541C8  40 82 00 14 */	bne lbl_80158C9C
lbl_80158C8C:
/* 80158C8C 001541CC  80 7E 00 14 */	lwz r3, 0x14(r30)
/* 80158C90 001541D0  38 00 00 00 */	li r0, 0
/* 80158C94 001541D4  98 03 00 22 */	stb r0, 0x22(r3)
/* 80158C98 001541D8  48 00 00 34 */	b lbl_80158CCC
lbl_80158C9C:
/* 80158C9C 001541DC  7F C3 F3 78 */	mr r3, r30
/* 80158CA0 001541E0  38 81 00 08 */	addi r4, r1, 8
/* 80158CA4 001541E4  48 2A 68 69 */	bl func_803FF50C
/* 80158CA8 001541E8  80 7E 00 14 */	lwz r3, 0x14(r30)
/* 80158CAC 001541EC  38 81 00 08 */	addi r4, r1, 8
/* 80158CB0 001541F0  81 83 00 00 */	lwz r12, 0(r3)
/* 80158CB4 001541F4  81 8C 00 08 */	lwz r12, 8(r12)
/* 80158CB8 001541F8  7D 89 03 A6 */	mtctr r12
/* 80158CBC 001541FC  4E 80 04 21 */	bctrl 
/* 80158CC0 00154200  80 7E 00 14 */	lwz r3, 0x14(r30)
/* 80158CC4 00154204  38 00 00 01 */	li r0, 1
/* 80158CC8 00154208  98 03 00 22 */	stb r0, 0x22(r3)
lbl_80158CCC:
/* 80158CCC 0015420C  80 01 00 44 */	lwz r0, 0x44(r1)
/* 80158CD0 00154210  83 E1 00 3C */	lwz r31, 0x3c(r1)
/* 80158CD4 00154214  83 C1 00 38 */	lwz r30, 0x38(r1)
/* 80158CD8 00154218  7C 08 03 A6 */	mtlr r0
/* 80158CDC 0015421C  38 21 00 40 */	addi r1, r1, 0x40
/* 80158CE0 00154220  4E 80 00 20 */	blr 

.global func_80158CE4
func_80158CE4:
/* 80158CE4 00154224  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 80158CE8 00154228  7C 08 02 A6 */	mflr r0
/* 80158CEC 0015422C  90 01 00 14 */	stw r0, 0x14(r1)
/* 80158CF0 00154230  93 E1 00 0C */	stw r31, 0xc(r1)
/* 80158CF4 00154234  7C 9F 23 78 */	mr r31, r4
/* 80158CF8 00154238  93 C1 00 08 */	stw r30, 8(r1)
/* 80158CFC 0015423C  7C 7E 1B 78 */	mr r30, r3
/* 80158D00 00154240  7F E3 FB 78 */	mr r3, r31
/* 80158D04 00154244  48 2A 6E 01 */	bl func_803FFB04
/* 80158D08 00154248  2C 03 00 00 */	cmpwi r3, 0
/* 80158D0C 0015424C  40 82 00 0C */	bne lbl_80158D18
/* 80158D10 00154250  38 60 00 00 */	li r3, 0
/* 80158D14 00154254  48 00 00 28 */	b lbl_80158D3C
lbl_80158D18:
/* 80158D18 00154258  38 60 00 18 */	li r3, 0x18
/* 80158D1C 0015425C  48 2B 0D DD */	bl func_80409AF8
/* 80158D20 00154260  2C 03 00 00 */	cmpwi r3, 0
/* 80158D24 00154264  41 82 00 10 */	beq lbl_80158D34
/* 80158D28 00154268  7F C4 F3 78 */	mr r4, r30
/* 80158D2C 0015426C  7F E5 FB 78 */	mr r5, r31
/* 80158D30 00154270  4B FF FE A9 */	bl func_80158BD8
lbl_80158D34:
/* 80158D34 00154274  48 2A 6E 25 */	bl func_803FFB58
/* 80158D38 00154278  38 60 00 01 */	li r3, 1
lbl_80158D3C:
/* 80158D3C 0015427C  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80158D40 00154280  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 80158D44 00154284  83 C1 00 08 */	lwz r30, 8(r1)
/* 80158D48 00154288  7C 08 03 A6 */	mtlr r0
/* 80158D4C 0015428C  38 21 00 10 */	addi r1, r1, 0x10
/* 80158D50 00154290  4E 80 00 20 */	blr 

.global func_80158D54
func_80158D54:
/* 80158D54 00154294  3C 80 80 57 */	lis r4, lbl_805730A0@ha
/* 80158D58 00154298  38 84 30 A0 */	addi r4, r4, lbl_805730A0@l
/* 80158D5C 0015429C  90 83 00 00 */	stw r4, 0(r3)
/* 80158D60 001542A0  4E 80 00 20 */	blr 

