.include "macros.inc"

.text

.global func_800BF828
func_800BF828:
/* 800BF828 000BAD68  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 800BF82C 000BAD6C  7C 08 02 A6 */	mflr r0
/* 800BF830 000BAD70  90 01 00 34 */	stw r0, 0x34(r1)
/* 800BF834 000BAD74  39 61 00 30 */	addi r11, r1, 0x30
/* 800BF838 000BAD78  48 45 7C F5 */	bl _savegpr_26
/* 800BF83C 000BAD7C  3B C0 00 00 */	li r30, 0
/* 800BF840 000BAD80  38 00 FF FF */	li r0, -1
/* 800BF844 000BAD84  90 83 00 00 */	stw r4, 0(r3)
/* 800BF848 000BAD88  3F A0 80 56 */	lis r29, lbl_80563158@ha
/* 800BF84C 000BAD8C  3B BD 31 58 */	addi r29, r29, lbl_80563158@l
/* 800BF850 000BAD90  7C 7A 1B 78 */	mr r26, r3
/* 800BF854 000BAD94  93 C3 00 04 */	stw r30, 4(r3)
/* 800BF858 000BAD98  38 9D 00 00 */	addi r4, r29, 0
/* 800BF85C 000BAD9C  38 A1 00 0C */	addi r5, r1, 0xc
/* 800BF860 000BADA0  93 C3 00 08 */	stw r30, 8(r3)
/* 800BF864 000BADA4  93 C3 00 0C */	stw r30, 0xc(r3)
/* 800BF868 000BADA8  90 03 00 10 */	stw r0, 0x10(r3)
/* 800BF86C 000BADAC  90 03 00 14 */	stw r0, 0x14(r3)
/* 800BF870 000BADB0  90 03 00 18 */	stw r0, 0x18(r3)
/* 800BF874 000BADB4  9B C3 00 1C */	stb r30, 0x1c(r3)
/* 800BF878 000BADB8  93 C1 00 0C */	stw r30, 0xc(r1)
/* 800BF87C 000BADBC  80 63 00 00 */	lwz r3, 0(r3)
/* 800BF880 000BADC0  4B FF CA ED */	bl func_800BC36C
/* 800BF884 000BADC4  1C 83 00 0C */	mulli r4, r3, 0xc
/* 800BF888 000BADC8  90 7A 00 0C */	stw r3, 0xc(r26)
/* 800BF88C 000BADCC  7C 7F 1B 78 */	mr r31, r3
/* 800BF890 000BADD0  38 64 00 10 */	addi r3, r4, 0x10
/* 800BF894 000BADD4  48 34 A2 89 */	bl func_80409B1C
/* 800BF898 000BADD8  3C 80 80 0C */	lis r4, lbl_800BF948@ha
/* 800BF89C 000BADDC  7F E7 FB 78 */	mr r7, r31
/* 800BF8A0 000BADE0  38 84 F9 48 */	addi r4, r4, lbl_800BF948@l
/* 800BF8A4 000BADE4  38 A0 00 00 */	li r5, 0
/* 800BF8A8 000BADE8  38 C0 00 0C */	li r6, 0xc
/* 800BF8AC 000BADEC  48 45 77 19 */	bl __construct_new_array
/* 800BF8B0 000BADF0  90 7A 00 04 */	stw r3, 4(r26)
/* 800BF8B4 000BADF4  7F DF F3 78 */	mr r31, r30
/* 800BF8B8 000BADF8  3B 80 00 00 */	li r28, 0
/* 800BF8BC 000BADFC  48 00 00 64 */	b lbl_800BF920
lbl_800BF8C0:
/* 800BF8C0 000BAE00  80 1A 00 04 */	lwz r0, 4(r26)
/* 800BF8C4 000BAE04  7F 86 E3 78 */	mr r6, r28
/* 800BF8C8 000BAE08  80 81 00 0C */	lwz r4, 0xc(r1)
/* 800BF8CC 000BAE0C  38 BD 00 05 */	addi r5, r29, 5
/* 800BF8D0 000BAE10  7F 60 FA 14 */	add r27, r0, r31
/* 800BF8D4 000BAE14  7F 63 DB 78 */	mr r3, r27
/* 800BF8D8 000BAE18  48 33 0B 75 */	bl func_803F044C
/* 800BF8DC 000BAE1C  80 81 00 0C */	lwz r4, 0xc(r1)
/* 800BF8E0 000BAE20  7F 86 E3 78 */	mr r6, r28
/* 800BF8E4 000BAE24  38 7B 00 04 */	addi r3, r27, 4
/* 800BF8E8 000BAE28  38 BD 00 0E */	addi r5, r29, 0xe
/* 800BF8EC 000BAE2C  48 33 0B A5 */	bl func_803F0490
/* 800BF8F0 000BAE30  93 C1 00 08 */	stw r30, 8(r1)
/* 800BF8F4 000BAE34  7F 86 E3 78 */	mr r6, r28
/* 800BF8F8 000BAE38  80 81 00 0C */	lwz r4, 0xc(r1)
/* 800BF8FC 000BAE3C  38 61 00 08 */	addi r3, r1, 8
/* 800BF900 000BAE40  38 BD 00 18 */	addi r5, r29, 0x18
/* 800BF904 000BAE44  48 33 0B 8D */	bl func_803F0490
/* 800BF908 000BAE48  80 61 00 08 */	lwz r3, 8(r1)
/* 800BF90C 000BAE4C  3B 9C 00 01 */	addi r28, r28, 1
/* 800BF910 000BAE50  3B FF 00 0C */	addi r31, r31, 0xc
/* 800BF914 000BAE54  30 03 FF FF */	addic r0, r3, -1
/* 800BF918 000BAE58  7C 00 19 10 */	subfe r0, r0, r3
/* 800BF91C 000BAE5C  98 1B 00 08 */	stb r0, 8(r27)
lbl_800BF920:
/* 800BF920 000BAE60  80 1A 00 0C */	lwz r0, 0xc(r26)
/* 800BF924 000BAE64  7C 1C 00 00 */	cmpw r28, r0
/* 800BF928 000BAE68  41 80 FF 98 */	blt lbl_800BF8C0
/* 800BF92C 000BAE6C  39 61 00 30 */	addi r11, r1, 0x30
/* 800BF930 000BAE70  7F 43 D3 78 */	mr r3, r26
/* 800BF934 000BAE74  48 45 7C 45 */	bl _restgpr_26
/* 800BF938 000BAE78  80 01 00 34 */	lwz r0, 0x34(r1)
/* 800BF93C 000BAE7C  7C 08 03 A6 */	mtlr r0
/* 800BF940 000BAE80  38 21 00 30 */	addi r1, r1, 0x30
/* 800BF944 000BAE84  4E 80 00 20 */	blr 
lbl_800BF948:
/* 800BF948 000BAE88  38 80 00 00 */	li r4, 0
/* 800BF94C 000BAE8C  38 00 00 01 */	li r0, 1
/* 800BF950 000BAE90  90 83 00 00 */	stw r4, 0(r3)
/* 800BF954 000BAE94  90 03 00 04 */	stw r0, 4(r3)
/* 800BF958 000BAE98  98 83 00 08 */	stb r4, 8(r3)
/* 800BF95C 000BAE9C  4E 80 00 20 */	blr 

.global func_800BF960
func_800BF960:
/* 800BF960 000BAEA0  38 A0 00 00 */	li r5, 0
/* 800BF964 000BAEA4  80 83 00 04 */	lwz r4, 4(r3)
/* 800BF968 000BAEA8  1C 05 00 0C */	mulli r0, r5, 0xc
/* 800BF96C 000BAEAC  90 A3 00 18 */	stw r5, 0x18(r3)
/* 800BF970 000BAEB0  7C 04 02 14 */	add r0, r4, r0
/* 800BF974 000BAEB4  90 03 00 08 */	stw r0, 8(r3)
/* 800BF978 000BAEB8  4E 80 00 20 */	blr 

.global func_800BF97C
func_800BF97C:
/* 800BF97C 000BAEBC  88 03 00 1C */	lbz r0, 0x1c(r3)
/* 800BF980 000BAEC0  2C 00 00 00 */	cmpwi r0, 0
/* 800BF984 000BAEC4  41 82 00 30 */	beq lbl_800BF9B4
/* 800BF988 000BAEC8  80 83 00 10 */	lwz r4, 0x10(r3)
/* 800BF98C 000BAECC  2C 04 00 00 */	cmpwi r4, 0
/* 800BF990 000BAED0  41 81 00 0C */	bgt lbl_800BF99C
/* 800BF994 000BAED4  38 04 00 01 */	addi r0, r4, 1
/* 800BF998 000BAED8  90 03 00 10 */	stw r0, 0x10(r3)
lbl_800BF99C:
/* 800BF99C 000BAEDC  80 83 00 14 */	lwz r4, 0x14(r3)
/* 800BF9A0 000BAEE0  2C 04 00 00 */	cmpwi r4, 0
/* 800BF9A4 000BAEE4  4D 81 00 20 */	bgtlr 
/* 800BF9A8 000BAEE8  38 04 00 01 */	addi r0, r4, 1
/* 800BF9AC 000BAEEC  90 03 00 14 */	stw r0, 0x14(r3)
/* 800BF9B0 000BAEF0  4E 80 00 20 */	blr 
lbl_800BF9B4:
/* 800BF9B4 000BAEF4  80 A3 00 14 */	lwz r5, 0x14(r3)
/* 800BF9B8 000BAEF8  80 83 00 10 */	lwz r4, 0x10(r3)
/* 800BF9BC 000BAEFC  38 A5 00 01 */	addi r5, r5, 1
/* 800BF9C0 000BAF00  80 C3 00 08 */	lwz r6, 8(r3)
/* 800BF9C4 000BAF04  38 04 00 01 */	addi r0, r4, 1
/* 800BF9C8 000BAF08  90 A3 00 14 */	stw r5, 0x14(r3)
/* 800BF9CC 000BAF0C  90 03 00 10 */	stw r0, 0x10(r3)
/* 800BF9D0 000BAF10  80 06 00 04 */	lwz r0, 4(r6)
/* 800BF9D4 000BAF14  7C 00 28 00 */	cmpw r0, r5
/* 800BF9D8 000BAF18  4D 81 00 20 */	bgtlr 
/* 800BF9DC 000BAF1C  88 06 00 08 */	lbz r0, 8(r6)
/* 800BF9E0 000BAF20  2C 00 00 00 */	cmpwi r0, 0
/* 800BF9E4 000BAF24  4C 82 00 20 */	bnelr 
/* 800BF9E8 000BAF28  80 83 00 18 */	lwz r4, 0x18(r3)
/* 800BF9EC 000BAF2C  80 03 00 0C */	lwz r0, 0xc(r3)
/* 800BF9F0 000BAF30  38 84 00 01 */	addi r4, r4, 1
/* 800BF9F4 000BAF34  7C 00 20 00 */	cmpw r0, r4
/* 800BF9F8 000BAF38  90 83 00 18 */	stw r4, 0x18(r3)
/* 800BF9FC 000BAF3C  4C 81 00 20 */	blelr 
/* 800BFA00 000BAF40  1C 84 00 0C */	mulli r4, r4, 0xc
/* 800BFA04 000BAF44  38 00 00 00 */	li r0, 0
/* 800BFA08 000BAF48  80 A3 00 04 */	lwz r5, 4(r3)
/* 800BFA0C 000BAF4C  90 03 00 14 */	stw r0, 0x14(r3)
/* 800BFA10 000BAF50  7C 05 22 14 */	add r0, r5, r4
/* 800BFA14 000BAF54  90 03 00 08 */	stw r0, 8(r3)
/* 800BFA18 000BAF58  4E 80 00 20 */	blr 

.global func_800BFA1C
func_800BFA1C:
/* 800BFA1C 000BAF5C  38 80 FF FF */	li r4, -1
/* 800BFA20 000BAF60  38 00 00 00 */	li r0, 0
/* 800BFA24 000BAF64  90 83 00 10 */	stw r4, 0x10(r3)
/* 800BFA28 000BAF68  90 83 00 14 */	stw r4, 0x14(r3)
/* 800BFA2C 000BAF6C  90 83 00 18 */	stw r4, 0x18(r3)
/* 800BFA30 000BAF70  90 03 00 08 */	stw r0, 8(r3)
/* 800BFA34 000BAF74  4E 80 00 20 */	blr 

.global func_800BFA38
func_800BFA38:
/* 800BFA38 000BAF78  88 03 00 1C */	lbz r0, 0x1c(r3)
/* 800BFA3C 000BAF7C  2C 00 00 00 */	cmpwi r0, 0
/* 800BFA40 000BAF80  41 82 00 0C */	beq lbl_800BFA4C
/* 800BFA44 000BAF84  38 60 00 00 */	li r3, 0
/* 800BFA48 000BAF88  4E 80 00 20 */	blr 
lbl_800BFA4C:
/* 800BFA4C 000BAF8C  80 A3 00 08 */	lwz r5, 8(r3)
/* 800BFA50 000BAF90  88 05 00 08 */	lbz r0, 8(r5)
/* 800BFA54 000BAF94  2C 00 00 00 */	cmpwi r0, 0
/* 800BFA58 000BAF98  41 82 00 1C */	beq lbl_800BFA74
/* 800BFA5C 000BAF9C  80 85 00 04 */	lwz r4, 4(r5)
/* 800BFA60 000BAFA0  80 03 00 14 */	lwz r0, 0x14(r3)
/* 800BFA64 000BAFA4  7C 04 00 00 */	cmpw r4, r0
/* 800BFA68 000BAFA8  41 81 00 0C */	bgt lbl_800BFA74
/* 800BFA6C 000BAFAC  38 60 00 01 */	li r3, 1
/* 800BFA70 000BAFB0  4E 80 00 20 */	blr 
lbl_800BFA74:
/* 800BFA74 000BAFB4  80 85 00 04 */	lwz r4, 4(r5)
/* 800BFA78 000BAFB8  80 03 00 14 */	lwz r0, 0x14(r3)
/* 800BFA7C 000BAFBC  7C 04 00 00 */	cmpw r4, r0
/* 800BFA80 000BAFC0  41 80 00 1C */	blt lbl_800BFA9C
/* 800BFA84 000BAFC4  80 83 00 0C */	lwz r4, 0xc(r3)
/* 800BFA88 000BAFC8  80 03 00 18 */	lwz r0, 0x18(r3)
/* 800BFA8C 000BAFCC  7C 04 00 00 */	cmpw r4, r0
/* 800BFA90 000BAFD0  40 82 00 0C */	bne lbl_800BFA9C
/* 800BFA94 000BAFD4  38 60 00 01 */	li r3, 1
/* 800BFA98 000BAFD8  4E 80 00 20 */	blr 
lbl_800BFA9C:
/* 800BFA9C 000BAFDC  38 60 00 00 */	li r3, 0
/* 800BFAA0 000BAFE0  4E 80 00 20 */	blr 

.global func_800BFAA4
func_800BFAA4:
/* 800BFAA4 000BAFE4  48 00 00 40 */	b lbl_800BFAE4

.global func_800BFAA8
func_800BFAA8:
/* 800BFAA8 000BAFE8  80 63 00 08 */	lwz r3, 8(r3)
/* 800BFAAC 000BAFEC  88 63 00 08 */	lbz r3, 8(r3)
/* 800BFAB0 000BAFF0  4E 80 00 20 */	blr 

.global func_800BFAB4
func_800BFAB4:
/* 800BFAB4 000BAFF4  88 03 00 1C */	lbz r0, 0x1c(r3)
/* 800BFAB8 000BAFF8  2C 00 00 00 */	cmpwi r0, 0
/* 800BFABC 000BAFFC  41 82 00 0C */	beq lbl_800BFAC8
/* 800BFAC0 000BB000  38 60 00 00 */	li r3, 0
/* 800BFAC4 000BB004  4E 80 00 20 */	blr 
lbl_800BFAC8:
/* 800BFAC8 000BB008  80 83 00 0C */	lwz r4, 0xc(r3)
/* 800BFACC 000BB00C  80 63 00 18 */	lwz r3, 0x18(r3)
/* 800BFAD0 000BB010  38 04 FF FF */	addi r0, r4, -1
/* 800BFAD4 000BB014  7C 03 00 50 */	subf r0, r3, r0
/* 800BFAD8 000BB018  7C 00 00 34 */	cntlzw r0, r0
/* 800BFADC 000BB01C  54 03 D9 7E */	srwi r3, r0, 5
/* 800BFAE0 000BB020  4E 80 00 20 */	blr 
lbl_800BFAE4:
/* 800BFAE4 000BB024  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 800BFAE8 000BB028  7C 08 02 A6 */	mflr r0
/* 800BFAEC 000BB02C  90 01 00 24 */	stw r0, 0x24(r1)
/* 800BFAF0 000BB030  39 61 00 20 */	addi r11, r1, 0x20
/* 800BFAF4 000BB034  48 45 7A 41 */	bl func_80517534
/* 800BFAF8 000BB038  7C 7C 1B 78 */	mr r28, r3
/* 800BFAFC 000BB03C  7C 9D 23 78 */	mr r29, r4
/* 800BFB00 000BB040  3B C0 00 00 */	li r30, 0
/* 800BFB04 000BB044  3B E0 00 00 */	li r31, 0
/* 800BFB08 000BB048  48 00 00 28 */	b lbl_800BFB30
lbl_800BFB0C:
/* 800BFB0C 000BB04C  80 7C 00 04 */	lwz r3, 4(r28)
/* 800BFB10 000BB050  7F A4 EB 78 */	mr r4, r29
/* 800BFB14 000BB054  7C 63 F8 2E */	lwzx r3, r3, r31
/* 800BFB18 000BB058  48 33 D9 89 */	bl func_803FD4A0
/* 800BFB1C 000BB05C  2C 03 00 00 */	cmpwi r3, 0
/* 800BFB20 000BB060  41 82 00 08 */	beq lbl_800BFB28
/* 800BFB24 000BB064  48 00 00 1C */	b lbl_800BFB40
lbl_800BFB28:
/* 800BFB28 000BB068  3B DE 00 01 */	addi r30, r30, 1
/* 800BFB2C 000BB06C  3B FF 00 0C */	addi r31, r31, 0xc
lbl_800BFB30:
/* 800BFB30 000BB070  80 1C 00 0C */	lwz r0, 0xc(r28)
/* 800BFB34 000BB074  7C 1E 00 00 */	cmpw r30, r0
/* 800BFB38 000BB078  41 80 FF D4 */	blt lbl_800BFB0C
/* 800BFB3C 000BB07C  3B C0 FF FF */	li r30, -1
lbl_800BFB40:
/* 800BFB40 000BB080  1C 1E 00 0C */	mulli r0, r30, 0xc
/* 800BFB44 000BB084  80 7C 00 04 */	lwz r3, 4(r28)
/* 800BFB48 000BB088  93 DC 00 18 */	stw r30, 0x18(r28)
/* 800BFB4C 000BB08C  39 61 00 20 */	addi r11, r1, 0x20
/* 800BFB50 000BB090  7C 03 02 14 */	add r0, r3, r0
/* 800BFB54 000BB094  90 1C 00 08 */	stw r0, 8(r28)
/* 800BFB58 000BB098  48 45 7A 29 */	bl func_80517580
/* 800BFB5C 000BB09C  80 01 00 24 */	lwz r0, 0x24(r1)
/* 800BFB60 000BB0A0  7C 08 03 A6 */	mtlr r0
/* 800BFB64 000BB0A4  38 21 00 20 */	addi r1, r1, 0x20
/* 800BFB68 000BB0A8  4E 80 00 20 */	blr 

.global func_800BFB6C
func_800BFB6C:
/* 800BFB6C 000BB0AC  80 83 00 08 */	lwz r4, 8(r3)
/* 800BFB70 000BB0B0  80 03 00 14 */	lwz r0, 0x14(r3)
/* 800BFB74 000BB0B4  80 64 00 04 */	lwz r3, 4(r4)
/* 800BFB78 000BB0B8  7C 04 FE 70 */	srawi r4, r0, 0x1f
/* 800BFB7C 000BB0BC  38 A3 FF FF */	addi r5, r3, -1
/* 800BFB80 000BB0C0  54 A3 0F FE */	srwi r3, r5, 0x1f
/* 800BFB84 000BB0C4  7C 05 00 10 */	subfc r0, r5, r0
/* 800BFB88 000BB0C8  7C 64 19 14 */	adde r3, r4, r3
/* 800BFB8C 000BB0CC  4E 80 00 20 */	blr 

