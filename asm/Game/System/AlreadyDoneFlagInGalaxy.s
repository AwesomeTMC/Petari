.include "macros.inc"

.text

.global func_80394390
func_80394390:
/* 80394390 0038F8D0  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 80394394 0038F8D4  7C 08 02 A6 */	mflr r0
/* 80394398 0038F8D8  3C 80 00 01 */	lis r4, 0x0000FFFF@ha
/* 8039439C 0038F8DC  38 A0 00 00 */	li r5, 0
/* 803943A0 0038F8E0  90 01 00 14 */	stw r0, 0x14(r1)
/* 803943A4 0038F8E4  38 04 FF FF */	addi r0, r4, 0x0000FFFF@l
/* 803943A8 0038F8E8  93 E1 00 0C */	stw r31, 0xc(r1)
/* 803943AC 0038F8EC  7C 7F 1B 78 */	mr r31, r3
/* 803943B0 0038F8F0  B0 A3 00 00 */	sth r5, 0(r3)
/* 803943B4 0038F8F4  B0 03 00 02 */	sth r0, 2(r3)
/* 803943B8 0038F8F8  B0 03 00 04 */	sth r0, 4(r3)
/* 803943BC 0038F8FC  48 00 00 1D */	bl func_803943D8
/* 803943C0 0038F900  7F E3 FB 78 */	mr r3, r31
/* 803943C4 0038F904  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 803943C8 0038F908  80 01 00 14 */	lwz r0, 0x14(r1)
/* 803943CC 0038F90C  7C 08 03 A6 */	mtlr r0
/* 803943D0 0038F910  38 21 00 10 */	addi r1, r1, 0x10
/* 803943D4 0038F914  4E 80 00 20 */	blr 

.global func_803943D8
func_803943D8:
/* 803943D8 0038F918  3C 80 00 01 */	lis r4, 0x0000FFFF@ha
/* 803943DC 0038F91C  38 A0 00 00 */	li r5, 0
/* 803943E0 0038F920  38 04 FF FF */	addi r0, r4, 0x0000FFFF@l
/* 803943E4 0038F924  B0 A3 00 00 */	sth r5, 0(r3)
/* 803943E8 0038F928  B0 03 00 02 */	sth r0, 2(r3)
/* 803943EC 0038F92C  B0 03 00 04 */	sth r0, 4(r3)
/* 803943F0 0038F930  4E 80 00 20 */	blr 

.global func_803943F4
func_803943F4:
/* 803943F4 0038F934  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 803943F8 0038F938  7C 08 02 A6 */	mflr r0
/* 803943FC 0038F93C  90 01 00 24 */	stw r0, 0x24(r1)
/* 80394400 0038F940  39 61 00 20 */	addi r11, r1, 0x20
/* 80394404 0038F944  48 18 31 35 */	bl func_80517538
/* 80394408 0038F948  7C 7D 1B 78 */	mr r29, r3
/* 8039440C 0038F94C  7C 83 23 78 */	mr r3, r4
/* 80394410 0038F950  7C BE 2B 78 */	mr r30, r5
/* 80394414 0038F954  7C DF 33 78 */	mr r31, r6
/* 80394418 0038F958  48 03 F8 4D */	bl func_803D3C64
/* 8039441C 0038F95C  54 60 04 7E */	clrlwi r0, r3, 0x11
/* 80394420 0038F960  B3 DD 00 02 */	sth r30, 2(r29)
/* 80394424 0038F964  39 61 00 20 */	addi r11, r1, 0x20
/* 80394428 0038F968  B0 1D 00 00 */	sth r0, 0(r29)
/* 8039442C 0038F96C  B3 FD 00 04 */	sth r31, 4(r29)
/* 80394430 0038F970  48 18 31 55 */	bl func_80517584
/* 80394434 0038F974  80 01 00 24 */	lwz r0, 0x24(r1)
/* 80394438 0038F978  7C 08 03 A6 */	mtlr r0
/* 8039443C 0038F97C  38 21 00 20 */	addi r1, r1, 0x20
/* 80394440 0038F980  4E 80 00 20 */	blr 

.global func_80394444
func_80394444:
/* 80394444 0038F984  A0 A4 00 00 */	lhz r5, 0(r4)
/* 80394448 0038F988  38 C0 00 00 */	li r6, 0
/* 8039444C 0038F98C  A0 03 00 00 */	lhz r0, 0(r3)
/* 80394450 0038F990  54 A5 04 7E */	clrlwi r5, r5, 0x11
/* 80394454 0038F994  54 00 04 7E */	clrlwi r0, r0, 0x11
/* 80394458 0038F998  7C 05 00 40 */	cmplw r5, r0
/* 8039445C 0038F99C  40 82 00 28 */	bne lbl_80394484
/* 80394460 0038F9A0  A0 A4 00 02 */	lhz r5, 2(r4)
/* 80394464 0038F9A4  A0 03 00 02 */	lhz r0, 2(r3)
/* 80394468 0038F9A8  7C 05 00 40 */	cmplw r5, r0
/* 8039446C 0038F9AC  40 82 00 18 */	bne lbl_80394484
/* 80394470 0038F9B0  A0 84 00 04 */	lhz r4, 4(r4)
/* 80394474 0038F9B4  A0 03 00 04 */	lhz r0, 4(r3)
/* 80394478 0038F9B8  7C 04 00 40 */	cmplw r4, r0
/* 8039447C 0038F9BC  40 82 00 08 */	bne lbl_80394484
/* 80394480 0038F9C0  38 C0 00 01 */	li r6, 1
lbl_80394484:
/* 80394484 0038F9C4  7C C3 33 78 */	mr r3, r6
/* 80394488 0038F9C8  4E 80 00 20 */	blr 
lbl_8039448C:
/* 8039448C 0038F9CC  20 04 00 00 */	subfic r0, r4, 0
/* 80394490 0038F9D0  A0 C3 00 00 */	lhz r6, 0(r3)
/* 80394494 0038F9D4  3C 80 00 01 */	lis r4, 0x00008000@ha
/* 80394498 0038F9D8  7C A0 01 10 */	subfe r5, r0, r0
/* 8039449C 0038F9DC  54 C6 04 7E */	clrlwi r6, r6, 0x11
/* 803944A0 0038F9E0  38 04 80 00 */	addi r0, r4, 0x00008000@l
/* 803944A4 0038F9E4  7C 00 28 38 */	and r0, r0, r5
/* 803944A8 0038F9E8  7C 00 33 78 */	or r0, r0, r6
/* 803944AC 0038F9EC  B0 03 00 00 */	sth r0, 0(r3)
/* 803944B0 0038F9F0  4E 80 00 20 */	blr 

.global func_803944B4
func_803944B4:
/* 803944B4 0038F9F4  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 803944B8 0038F9F8  7C 08 02 A6 */	mflr r0
/* 803944BC 0038F9FC  1C A4 00 06 */	mulli r5, r4, 6
/* 803944C0 0038FA00  90 01 00 14 */	stw r0, 0x14(r1)
/* 803944C4 0038FA04  38 00 00 00 */	li r0, 0
/* 803944C8 0038FA08  93 E1 00 0C */	stw r31, 0xc(r1)
/* 803944CC 0038FA0C  7C 9F 23 78 */	mr r31, r4
/* 803944D0 0038FA10  93 C1 00 08 */	stw r30, 8(r1)
/* 803944D4 0038FA14  7C 7E 1B 78 */	mr r30, r3
/* 803944D8 0038FA18  90 03 00 00 */	stw r0, 0(r3)
/* 803944DC 0038FA1C  90 03 00 04 */	stw r0, 4(r3)
/* 803944E0 0038FA20  90 03 00 08 */	stw r0, 8(r3)
/* 803944E4 0038FA24  38 65 00 10 */	addi r3, r5, 0x10
/* 803944E8 0038FA28  48 07 56 35 */	bl func_80409B1C
/* 803944EC 0038FA2C  3C 80 80 39 */	lis r4, func_80394390@ha
/* 803944F0 0038FA30  7F E7 FB 78 */	mr r7, r31
/* 803944F4 0038FA34  38 84 43 90 */	addi r4, r4, func_80394390@l
/* 803944F8 0038FA38  38 A0 00 00 */	li r5, 0
/* 803944FC 0038FA3C  38 C0 00 06 */	li r6, 6
/* 80394500 0038FA40  48 18 2A C5 */	bl __construct_new_array
/* 80394504 0038FA44  90 7E 00 00 */	stw r3, 0(r30)
/* 80394508 0038FA48  7F C3 F3 78 */	mr r3, r30
/* 8039450C 0038FA4C  93 FE 00 04 */	stw r31, 4(r30)
/* 80394510 0038FA50  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 80394514 0038FA54  83 C1 00 08 */	lwz r30, 8(r1)
/* 80394518 0038FA58  80 01 00 14 */	lwz r0, 0x14(r1)
/* 8039451C 0038FA5C  7C 08 03 A6 */	mtlr r0
/* 80394520 0038FA60  38 21 00 10 */	addi r1, r1, 0x10
/* 80394524 0038FA64  4E 80 00 20 */	blr 

.global lbl_80394528
lbl_80394528:
/* 80394528 0038FA68  38 00 00 00 */	li r0, 0
/* 8039452C 0038FA6C  90 03 00 08 */	stw r0, 8(r3)
/* 80394530 0038FA70  4E 80 00 20 */	blr 

.global lbl_80394534
lbl_80394534:
/* 80394534 0038FA74  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 80394538 0038FA78  7C 08 02 A6 */	mflr r0
/* 8039453C 0038FA7C  90 01 00 34 */	stw r0, 0x34(r1)
/* 80394540 0038FA80  39 61 00 30 */	addi r11, r1, 0x30
/* 80394544 0038FA84  48 18 2F F1 */	bl func_80517534
/* 80394548 0038FA88  38 00 FF FF */	li r0, -1
/* 8039454C 0038FA8C  7C 9E 23 78 */	mr r30, r4
/* 80394550 0038FA90  7C BD 2B 78 */	mr r29, r5
/* 80394554 0038FA94  90 01 00 08 */	stw r0, 8(r1)
/* 80394558 0038FA98  7C 7C 1B 78 */	mr r28, r3
/* 8039455C 0038FA9C  7C DF 33 78 */	mr r31, r6
/* 80394560 0038FAA0  7F A3 EB 78 */	mr r3, r29
/* 80394564 0038FAA4  38 81 00 08 */	addi r4, r1, 8
/* 80394568 0038FAA8  48 04 03 BD */	bl func_803D4924
/* 8039456C 0038FAAC  7F A3 EB 78 */	mr r3, r29
/* 80394570 0038FAB0  48 06 22 29 */	bl func_803F6798
/* 80394574 0038FAB4  7C 7D 1B 78 */	mr r29, r3
/* 80394578 0038FAB8  38 61 00 0C */	addi r3, r1, 0xc
/* 8039457C 0038FABC  4B FF FE 15 */	bl func_80394390
/* 80394580 0038FAC0  80 C1 00 08 */	lwz r6, 8(r1)
/* 80394584 0038FAC4  7F C4 F3 78 */	mr r4, r30
/* 80394588 0038FAC8  7F A5 EB 78 */	mr r5, r29
/* 8039458C 0038FACC  38 61 00 0C */	addi r3, r1, 0xc
/* 80394590 0038FAD0  4B FF FE 65 */	bl func_803943F4
/* 80394594 0038FAD4  80 1C 00 08 */	lwz r0, 8(r28)
/* 80394598 0038FAD8  83 BC 00 00 */	lwz r29, 0(r28)
/* 8039459C 0038FADC  1C 00 00 06 */	mulli r0, r0, 6
/* 803945A0 0038FAE0  7F DD 02 14 */	add r30, r29, r0
/* 803945A4 0038FAE4  48 00 00 08 */	b lbl_803945AC
lbl_803945A8:
/* 803945A8 0038FAE8  3B BD 00 06 */	addi r29, r29, 6
lbl_803945AC:
/* 803945AC 0038FAEC  7C 1D F0 40 */	cmplw r29, r30
/* 803945B0 0038FAF0  41 82 00 18 */	beq lbl_803945C8
/* 803945B4 0038FAF4  7F A3 EB 78 */	mr r3, r29
/* 803945B8 0038FAF8  38 81 00 0C */	addi r4, r1, 0xc
/* 803945BC 0038FAFC  4B FF FE 89 */	bl func_80394444
/* 803945C0 0038FB00  2C 03 00 00 */	cmpwi r3, 0
/* 803945C4 0038FB04  41 82 FF E4 */	beq lbl_803945A8
lbl_803945C8:
/* 803945C8 0038FB08  80 9C 00 08 */	lwz r4, 8(r28)
/* 803945CC 0038FB0C  80 7C 00 00 */	lwz r3, 0(r28)
/* 803945D0 0038FB10  1C 04 00 06 */	mulli r0, r4, 6
/* 803945D4 0038FB14  7C A3 02 14 */	add r5, r3, r0
/* 803945D8 0038FB18  7C 1D 28 40 */	cmplw r29, r5
/* 803945DC 0038FB1C  41 82 00 20 */	beq lbl_803945FC
/* 803945E0 0038FB20  7C 63 E8 50 */	subf r3, r3, r29
/* 803945E4 0038FB24  38 00 00 06 */	li r0, 6
/* 803945E8 0038FB28  7C 63 03 D6 */	divw r3, r3, r0
/* 803945EC 0038FB2C  A0 1D 00 00 */	lhz r0, 0(r29)
/* 803945F0 0038FB30  54 00 8F FE */	rlwinm r0, r0, 0x11, 0x1f, 0x1f
/* 803945F4 0038FB34  90 1F 00 00 */	stw r0, 0(r31)
/* 803945F8 0038FB38  48 00 00 30 */	b lbl_80394628
lbl_803945FC:
/* 803945FC 0038FB3C  80 7C 00 08 */	lwz r3, 8(r28)
/* 80394600 0038FB40  38 84 00 01 */	addi r4, r4, 1
/* 80394604 0038FB44  38 00 00 00 */	li r0, 0
/* 80394608 0038FB48  90 9C 00 08 */	stw r4, 8(r28)
/* 8039460C 0038FB4C  A0 81 00 0C */	lhz r4, 0xc(r1)
/* 80394610 0038FB50  B0 85 00 00 */	sth r4, 0(r5)
/* 80394614 0038FB54  A0 81 00 0E */	lhz r4, 0xe(r1)
/* 80394618 0038FB58  B0 85 00 02 */	sth r4, 2(r5)
/* 8039461C 0038FB5C  A0 81 00 10 */	lhz r4, 0x10(r1)
/* 80394620 0038FB60  B0 85 00 04 */	sth r4, 4(r5)
/* 80394624 0038FB64  90 1F 00 00 */	stw r0, 0(r31)
lbl_80394628:
/* 80394628 0038FB68  39 61 00 30 */	addi r11, r1, 0x30
/* 8039462C 0038FB6C  48 18 2F 55 */	bl func_80517580
/* 80394630 0038FB70  80 01 00 34 */	lwz r0, 0x34(r1)
/* 80394634 0038FB74  7C 08 03 A6 */	mtlr r0
/* 80394638 0038FB78  38 21 00 30 */	addi r1, r1, 0x30
/* 8039463C 0038FB7C  4E 80 00 20 */	blr 

.global lbl_80394640
lbl_80394640:
/* 80394640 0038FB80  1C 84 00 06 */	mulli r4, r4, 6
/* 80394644 0038FB84  80 63 00 00 */	lwz r3, 0(r3)
/* 80394648 0038FB88  30 05 FF FF */	addic r0, r5, -1
/* 8039464C 0038FB8C  7C 63 22 14 */	add r3, r3, r4
/* 80394650 0038FB90  7C 80 29 10 */	subfe r4, r0, r5
/* 80394654 0038FB94  4B FF FE 38 */	b lbl_8039448C
