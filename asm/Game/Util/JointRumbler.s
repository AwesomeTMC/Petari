.include "macros.inc"

.text

.global func_80405380
func_80405380:
/* 80405380 004008C0  94 21 FF C0 */	stwu r1, -0x40(r1)
/* 80405384 004008C4  7C 08 02 A6 */	mflr r0
/* 80405388 004008C8  90 01 00 44 */	stw r0, 0x44(r1)
/* 8040538C 004008CC  DB E1 00 30 */	stfd f31, 0x30(r1)
/* 80405390 004008D0  F3 E1 00 38 */	psq_st f31, 56(r1), 0, 0
/* 80405394 004008D4  DB C1 00 20 */	stfd f30, 0x20(r1)
/* 80405398 004008D8  F3 C1 00 28 */	psq_st f30, 40(r1), 0, 0
/* 8040539C 004008DC  39 61 00 20 */	addi r11, r1, 0x20
/* 804053A0 004008E0  48 11 21 91 */	bl _savegpr_27
/* 804053A4 004008E4  C0 02 1D 58 */	lfs f0, lbl_806ACFD8-_SDA2_BASE_(r2)
/* 804053A8 004008E8  39 20 00 00 */	li r9, 0
/* 804053AC 004008EC  FF C0 08 90 */	fmr f30, f1
/* 804053B0 004008F0  38 00 00 02 */	li r0, 2
/* 804053B4 004008F4  7C DE 33 78 */	mr r30, r6
/* 804053B8 004008F8  FF E0 10 90 */	fmr f31, f2
/* 804053BC 004008FC  7C 7B 1B 78 */	mr r27, r3
/* 804053C0 00400900  7C 9C 23 78 */	mr r28, r4
/* 804053C4 00400904  7C BD 2B 78 */	mr r29, r5
/* 804053C8 00400908  7C FF 3B 78 */	mr r31, r7
/* 804053CC 0040090C  91 23 00 00 */	stw r9, 0(r3)
/* 804053D0 00400910  38 C0 00 00 */	li r6, 0
/* 804053D4 00400914  91 23 00 04 */	stw r9, 4(r3)
/* 804053D8 00400918  91 03 00 08 */	stw r8, 8(r3)
/* 804053DC 0040091C  91 23 00 0C */	stw r9, 0xc(r3)
/* 804053E0 00400920  D0 03 00 10 */	stfs f0, 0x10(r3)
/* 804053E4 00400924  B1 23 00 14 */	sth r9, 0x14(r3)
/* 804053E8 00400928  7C 09 03 A6 */	mtctr r0
lbl_804053EC:
/* 804053EC 0040092C  7C A3 32 14 */	add r5, r3, r6
/* 804053F0 00400930  38 C6 00 01 */	addi r6, r6, 1
/* 804053F4 00400934  99 25 00 16 */	stb r9, 0x16(r5)
/* 804053F8 00400938  42 00 FF F4 */	bdnz lbl_804053EC
/* 804053FC 0040093C  80 64 00 48 */	lwz r3, 0x48(r4)
/* 80405400 00400940  80 63 00 18 */	lwz r3, 0x18(r3)
/* 80405404 00400944  80 63 00 6C */	lwz r3, 0x6c(r3)
/* 80405408 00400948  80 03 00 14 */	lwz r0, 0x14(r3)
/* 8040540C 0040094C  2C 00 00 00 */	cmpwi r0, 0
/* 80405410 00400950  40 82 00 0C */	bne lbl_8040541C
/* 80405414 00400954  7F 83 E3 78 */	mr r3, r28
/* 80405418 00400958  4B FD 6D E5 */	bl func_803DC1FC
lbl_8040541C:
/* 8040541C 0040095C  7F 83 E3 78 */	mr r3, r28
/* 80405420 00400960  7F A4 EB 78 */	mr r4, r29
/* 80405424 00400964  4B FD 6D E1 */	bl func_803DC204
/* 80405428 00400968  90 7B 00 04 */	stw r3, 4(r27)
/* 8040542C 0040096C  38 60 00 24 */	li r3, 0x24
/* 80405430 00400970  48 00 46 C9 */	bl func_80409AF8
/* 80405434 00400974  2C 03 00 00 */	cmpwi r3, 0
/* 80405438 00400978  41 82 00 18 */	beq lbl_80405450
/* 8040543C 0040097C  FC 20 F0 90 */	fmr f1, f30
/* 80405440 00400980  C0 42 1D 60 */	lfs f2, lbl_806ACFE0-_SDA2_BASE_(r2)
/* 80405444 00400984  FC 60 F8 90 */	fmr f3, f31
/* 80405448 00400988  7F C4 F3 78 */	mr r4, r30
/* 8040544C 0040098C  48 00 15 91 */	bl func_804069DC
lbl_80405450:
/* 80405450 00400990  2C 1F 00 00 */	cmpwi r31, 0
/* 80405454 00400994  90 7B 00 00 */	stw r3, 0(r27)
/* 80405458 00400998  41 82 00 10 */	beq lbl_80405468
/* 8040545C 0040099C  A0 1B 00 14 */	lhz r0, 0x14(r27)
/* 80405460 004009A0  60 00 00 01 */	ori r0, r0, 1
/* 80405464 004009A4  B0 1B 00 14 */	sth r0, 0x14(r27)
lbl_80405468:
/* 80405468 004009A8  7F 63 DB 78 */	mr r3, r27
/* 8040546C 004009AC  E3 E1 00 38 */	psq_l f31, 56(r1), 0, 0
/* 80405470 004009B0  CB E1 00 30 */	lfd f31, 0x30(r1)
/* 80405474 004009B4  E3 C1 00 28 */	psq_l f30, 40(r1), 0, 0
/* 80405478 004009B8  CB C1 00 20 */	lfd f30, 0x20(r1)
/* 8040547C 004009BC  39 61 00 20 */	addi r11, r1, 0x20
/* 80405480 004009C0  48 11 20 FD */	bl func_8051757C
/* 80405484 004009C4  80 01 00 44 */	lwz r0, 0x44(r1)
/* 80405488 004009C8  7C 08 03 A6 */	mtlr r0
/* 8040548C 004009CC  38 21 00 40 */	addi r1, r1, 0x40
/* 80405490 004009D0  4E 80 00 20 */	blr 

.global func_80405494
func_80405494:
/* 80405494 004009D4  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 80405498 004009D8  7C 08 02 A6 */	mflr r0
/* 8040549C 004009DC  90 01 00 14 */	stw r0, 0x14(r1)
/* 804054A0 004009E0  93 E1 00 0C */	stw r31, 0xc(r1)
/* 804054A4 004009E4  7C 7F 1B 78 */	mr r31, r3
/* 804054A8 004009E8  80 83 00 0C */	lwz r4, 0xc(r3)
/* 804054AC 004009EC  2C 04 00 00 */	cmpwi r4, 0
/* 804054B0 004009F0  40 82 00 18 */	bne lbl_804054C8
/* 804054B4 004009F4  80 63 00 00 */	lwz r3, 0(r3)
/* 804054B8 004009F8  48 00 14 01 */	bl func_804068B8
/* 804054BC 004009FC  80 7F 00 00 */	lwz r3, 0(r31)
/* 804054C0 00400A00  C0 23 00 10 */	lfs f1, 0x10(r3)
/* 804054C4 00400A04  48 00 00 14 */	b lbl_804054D8
lbl_804054C8:
/* 804054C8 00400A08  40 81 00 0C */	ble lbl_804054D4
/* 804054CC 00400A0C  38 04 FF FF */	addi r0, r4, -1
/* 804054D0 00400A10  90 03 00 0C */	stw r0, 0xc(r3)
lbl_804054D4:
/* 804054D4 00400A14  C0 22 1D 5C */	lfs f1, lbl_806ACFDC-_SDA2_BASE_(r2)
lbl_804054D8:
/* 804054D8 00400A18  C0 02 1D 58 */	lfs f0, lbl_806ACFD8-_SDA2_BASE_(r2)
/* 804054DC 00400A1C  7F E3 FB 78 */	mr r3, r31
/* 804054E0 00400A20  EC 20 08 2A */	fadds f1, f0, f1
/* 804054E4 00400A24  48 00 00 B5 */	bl func_80405598
/* 804054E8 00400A28  80 01 00 14 */	lwz r0, 0x14(r1)
/* 804054EC 00400A2C  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 804054F0 00400A30  7C 08 03 A6 */	mtlr r0
/* 804054F4 00400A34  38 21 00 10 */	addi r1, r1, 0x10
/* 804054F8 00400A38  4E 80 00 20 */	blr 

.global func_804054FC
func_804054FC:
/* 804054FC 00400A3C  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 80405500 00400A40  7C 08 02 A6 */	mflr r0
/* 80405504 00400A44  38 80 00 00 */	li r4, 0
/* 80405508 00400A48  90 01 00 14 */	stw r0, 0x14(r1)
/* 8040550C 00400A4C  93 E1 00 0C */	stw r31, 0xc(r1)
/* 80405510 00400A50  7C 7F 1B 78 */	mr r31, r3
/* 80405514 00400A54  80 63 00 00 */	lwz r3, 0(r3)
/* 80405518 00400A58  48 00 13 79 */	bl func_80406890
/* 8040551C 00400A5C  80 1F 00 08 */	lwz r0, 8(r31)
/* 80405520 00400A60  90 1F 00 0C */	stw r0, 0xc(r31)
/* 80405524 00400A64  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 80405528 00400A68  80 01 00 14 */	lwz r0, 0x14(r1)
/* 8040552C 00400A6C  7C 08 03 A6 */	mtlr r0
/* 80405530 00400A70  38 21 00 10 */	addi r1, r1, 0x10
/* 80405534 00400A74  4E 80 00 20 */	blr 

.global func_80405538
func_80405538:
/* 80405538 00400A78  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 8040553C 00400A7C  7C 08 02 A6 */	mflr r0
/* 80405540 00400A80  90 01 00 14 */	stw r0, 0x14(r1)
/* 80405544 00400A84  93 E1 00 0C */	stw r31, 0xc(r1)
/* 80405548 00400A88  7C 7F 1B 78 */	mr r31, r3
/* 8040554C 00400A8C  80 63 00 00 */	lwz r3, 0(r3)
/* 80405550 00400A90  48 00 14 7D */	bl func_804069CC
/* 80405554 00400A94  38 00 FF FF */	li r0, -1
/* 80405558 00400A98  C0 22 1D 58 */	lfs f1, lbl_806ACFD8-_SDA2_BASE_(r2)
/* 8040555C 00400A9C  90 1F 00 0C */	stw r0, 0xc(r31)
/* 80405560 00400AA0  7F E3 FB 78 */	mr r3, r31
/* 80405564 00400AA4  48 00 00 35 */	bl func_80405598
/* 80405568 00400AA8  80 01 00 14 */	lwz r0, 0x14(r1)
/* 8040556C 00400AAC  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 80405570 00400AB0  7C 08 03 A6 */	mtlr r0
/* 80405574 00400AB4  38 21 00 10 */	addi r1, r1, 0x10
/* 80405578 00400AB8  4E 80 00 20 */	blr 

.global func_8040557C
func_8040557C:
/* 8040557C 00400ABC  80 83 00 00 */	lwz r4, 0(r3)
/* 80405580 00400AC0  80 64 00 04 */	lwz r3, 4(r4)
/* 80405584 00400AC4  80 04 00 08 */	lwz r0, 8(r4)
/* 80405588 00400AC8  7C 00 18 10 */	subfc r0, r0, r3
/* 8040558C 00400ACC  7C 00 01 10 */	subfe r0, r0, r0
/* 80405590 00400AD0  7C 60 00 D0 */	neg r3, r0
/* 80405594 00400AD4  4E 80 00 20 */	blr 

.global func_80405598
func_80405598:
/* 80405598 00400AD8  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8040559C 00400ADC  7C 08 02 A6 */	mflr r0
/* 804055A0 00400AE0  90 01 00 24 */	stw r0, 0x24(r1)
/* 804055A4 00400AE4  DB E1 00 18 */	stfd f31, 0x18(r1)
/* 804055A8 00400AE8  FF E0 08 90 */	fmr f31, f1
/* 804055AC 00400AEC  93 E1 00 14 */	stw r31, 0x14(r1)
/* 804055B0 00400AF0  7C 7F 1B 78 */	mr r31, r3
/* 804055B4 00400AF4  A0 03 00 14 */	lhz r0, 0x14(r3)
/* 804055B8 00400AF8  54 00 07 FE */	clrlwi r0, r0, 0x1f
/* 804055BC 00400AFC  28 00 00 01 */	cmplwi r0, 1
/* 804055C0 00400B00  40 82 00 14 */	bne lbl_804055D4
/* 804055C4 00400B04  80 83 00 04 */	lwz r4, 4(r3)
/* 804055C8 00400B08  38 84 00 14 */	addi r4, r4, 0x14
/* 804055CC 00400B0C  48 00 00 31 */	bl func_804055FC
/* 804055D0 00400B10  48 00 00 10 */	b lbl_804055E0
lbl_804055D4:
/* 804055D4 00400B14  80 83 00 04 */	lwz r4, 4(r3)
/* 804055D8 00400B18  38 84 00 08 */	addi r4, r4, 8
/* 804055DC 00400B1C  48 00 00 21 */	bl func_804055FC
lbl_804055E0:
/* 804055E0 00400B20  D3 FF 00 10 */	stfs f31, 0x10(r31)
/* 804055E4 00400B24  CB E1 00 18 */	lfd f31, 0x18(r1)
/* 804055E8 00400B28  83 E1 00 14 */	lwz r31, 0x14(r1)
/* 804055EC 00400B2C  80 01 00 24 */	lwz r0, 0x24(r1)
/* 804055F0 00400B30  7C 08 03 A6 */	mtlr r0
/* 804055F4 00400B34  38 21 00 20 */	addi r1, r1, 0x20
/* 804055F8 00400B38  4E 80 00 20 */	blr 

.global func_804055FC
func_804055FC:
/* 804055FC 00400B3C  A0 03 00 14 */	lhz r0, 0x14(r3)
/* 80405600 00400B40  54 00 07 BC */	rlwinm r0, r0, 0, 0x1e, 0x1e
/* 80405604 00400B44  28 00 00 02 */	cmplwi r0, 2
/* 80405608 00400B48  41 82 00 08 */	beq lbl_80405610
/* 8040560C 00400B4C  D0 24 00 00 */	stfs f1, 0(r4)
lbl_80405610:
/* 80405610 00400B50  A0 03 00 14 */	lhz r0, 0x14(r3)
/* 80405614 00400B54  54 00 07 7A */	rlwinm r0, r0, 0, 0x1d, 0x1d
/* 80405618 00400B58  28 00 00 04 */	cmplwi r0, 4
/* 8040561C 00400B5C  41 82 00 08 */	beq lbl_80405624
/* 80405620 00400B60  D0 24 00 04 */	stfs f1, 4(r4)
lbl_80405624:
/* 80405624 00400B64  A0 03 00 14 */	lhz r0, 0x14(r3)
/* 80405628 00400B68  54 00 07 38 */	rlwinm r0, r0, 0, 0x1c, 0x1c
/* 8040562C 00400B6C  28 00 00 08 */	cmplwi r0, 8
/* 80405630 00400B70  4D 82 00 20 */	beqlr 
/* 80405634 00400B74  D0 24 00 08 */	stfs f1, 8(r4)
/* 80405638 00400B78  4E 80 00 20 */	blr 
