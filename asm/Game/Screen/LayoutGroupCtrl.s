.include "macros.inc"

.text

.global func_80366A70
func_80366A70:
/* 80366A70 00361FB0  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80366A74 00361FB4  7C 08 02 A6 */	mflr r0
/* 80366A78 00361FB8  90 01 00 24 */	stw r0, 0x24(r1)
/* 80366A7C 00361FBC  39 61 00 20 */	addi r11, r1, 0x20
/* 80366A80 00361FC0  48 1B 0A B1 */	bl _savegpr_27
/* 80366A84 00361FC4  3B E0 00 00 */	li r31, 0
/* 80366A88 00361FC8  90 83 00 00 */	stw r4, 0(r3)
/* 80366A8C 00361FCC  7C 7B 1B 78 */	mr r27, r3
/* 80366A90 00361FD0  7C 9C 23 78 */	mr r28, r4
/* 80366A94 00361FD4  93 E3 00 04 */	stw r31, 4(r3)
/* 80366A98 00361FD8  7C BD 2B 78 */	mr r29, r5
/* 80366A9C 00361FDC  7C DE 33 78 */	mr r30, r6
/* 80366AA0 00361FE0  54 C3 10 3A */	slwi r3, r6, 2
/* 80366AA4 00361FE4  48 0A 30 79 */	bl func_80409B1C
/* 80366AA8 00361FE8  38 00 00 01 */	li r0, 1
/* 80366AAC 00361FEC  90 7B 00 08 */	stw r3, 8(r27)
/* 80366AB0 00361FF0  7F 83 E3 78 */	mr r3, r28
/* 80366AB4 00361FF4  7F A4 EB 78 */	mr r4, r29
/* 80366AB8 00361FF8  93 DB 00 0C */	stw r30, 0xc(r27)
/* 80366ABC 00361FFC  98 1B 00 10 */	stb r0, 0x10(r27)
/* 80366AC0 00362000  48 00 13 C5 */	bl func_80367E84
/* 80366AC4 00362004  90 7B 00 04 */	stw r3, 4(r27)
/* 80366AC8 00362008  3B C0 00 00 */	li r30, 0
/* 80366ACC 0036200C  48 00 00 2C */	b lbl_80366AF8
lbl_80366AD0:
/* 80366AD0 00362010  38 60 00 24 */	li r3, 0x24
/* 80366AD4 00362014  48 0A 30 25 */	bl func_80409AF8
/* 80366AD8 00362018  2C 03 00 00 */	cmpwi r3, 0
/* 80366ADC 0036201C  41 82 00 0C */	beq lbl_80366AE8
/* 80366AE0 00362020  7F 84 E3 78 */	mr r4, r28
/* 80366AE4 00362024  4B CB 14 79 */	bl func_80017F5C
lbl_80366AE8:
/* 80366AE8 00362028  80 9B 00 08 */	lwz r4, 8(r27)
/* 80366AEC 0036202C  3B DE 00 01 */	addi r30, r30, 1
/* 80366AF0 00362030  7C 64 F9 2E */	stwx r3, r4, r31
/* 80366AF4 00362034  3B FF 00 04 */	addi r31, r31, 4
lbl_80366AF8:
/* 80366AF8 00362038  80 1B 00 0C */	lwz r0, 0xc(r27)
/* 80366AFC 0036203C  7C 1E 00 40 */	cmplw r30, r0
/* 80366B00 00362040  41 80 FF D0 */	blt lbl_80366AD0
/* 80366B04 00362044  39 61 00 20 */	addi r11, r1, 0x20
/* 80366B08 00362048  7F 63 DB 78 */	mr r3, r27
/* 80366B0C 0036204C  48 1B 0A 71 */	bl func_8051757C
/* 80366B10 00362050  80 01 00 24 */	lwz r0, 0x24(r1)
/* 80366B14 00362054  7C 08 03 A6 */	mtlr r0
/* 80366B18 00362058  38 21 00 20 */	addi r1, r1, 0x20
/* 80366B1C 0036205C  4E 80 00 20 */	blr 

.global func_80366B20
func_80366B20:
/* 80366B20 00362060  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80366B24 00362064  7C 08 02 A6 */	mflr r0
/* 80366B28 00362068  90 01 00 24 */	stw r0, 0x24(r1)
/* 80366B2C 0036206C  39 61 00 20 */	addi r11, r1, 0x20
/* 80366B30 00362070  48 1B 0A 09 */	bl func_80517538
/* 80366B34 00362074  7C 7D 1B 78 */	mr r29, r3
/* 80366B38 00362078  3B C0 00 00 */	li r30, 0
/* 80366B3C 0036207C  3B E0 00 00 */	li r31, 0
/* 80366B40 00362080  48 00 00 24 */	b lbl_80366B64
lbl_80366B44:
/* 80366B44 00362084  80 7D 00 08 */	lwz r3, 8(r29)
/* 80366B48 00362088  7C 63 F8 2E */	lwzx r3, r3, r31
/* 80366B4C 0036208C  81 83 00 00 */	lwz r12, 0(r3)
/* 80366B50 00362090  81 8C 00 08 */	lwz r12, 8(r12)
/* 80366B54 00362094  7D 89 03 A6 */	mtctr r12
/* 80366B58 00362098  4E 80 04 21 */	bctrl 
/* 80366B5C 0036209C  3B DE 00 01 */	addi r30, r30, 1
/* 80366B60 003620A0  3B FF 00 04 */	addi r31, r31, 4
lbl_80366B64:
/* 80366B64 003620A4  80 1D 00 0C */	lwz r0, 0xc(r29)
/* 80366B68 003620A8  7C 1E 00 40 */	cmplw r30, r0
/* 80366B6C 003620AC  41 80 FF D8 */	blt lbl_80366B44
/* 80366B70 003620B0  39 61 00 20 */	addi r11, r1, 0x20
/* 80366B74 003620B4  48 1B 0A 11 */	bl func_80517584
/* 80366B78 003620B8  80 01 00 24 */	lwz r0, 0x24(r1)
/* 80366B7C 003620BC  7C 08 03 A6 */	mtlr r0
/* 80366B80 003620C0  38 21 00 20 */	addi r1, r1, 0x20
/* 80366B84 003620C4  4E 80 00 20 */	blr 

.global func_80366B88
func_80366B88:
/* 80366B88 003620C8  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80366B8C 003620CC  7C 08 02 A6 */	mflr r0
/* 80366B90 003620D0  90 01 00 24 */	stw r0, 0x24(r1)
/* 80366B94 003620D4  39 61 00 20 */	addi r11, r1, 0x20
/* 80366B98 003620D8  48 1B 09 A1 */	bl func_80517538
/* 80366B9C 003620DC  7C 7D 1B 78 */	mr r29, r3
/* 80366BA0 003620E0  3B C0 00 00 */	li r30, 0
/* 80366BA4 003620E4  3B E0 00 00 */	li r31, 0
/* 80366BA8 003620E8  48 00 00 24 */	b lbl_80366BCC
lbl_80366BAC:
/* 80366BAC 003620EC  80 7D 00 08 */	lwz r3, 8(r29)
/* 80366BB0 003620F0  7C 63 F8 2E */	lwzx r3, r3, r31
/* 80366BB4 003620F4  81 83 00 00 */	lwz r12, 0(r3)
/* 80366BB8 003620F8  81 8C 00 0C */	lwz r12, 0xc(r12)
/* 80366BBC 003620FC  7D 89 03 A6 */	mtctr r12
/* 80366BC0 00362100  4E 80 04 21 */	bctrl 
/* 80366BC4 00362104  3B DE 00 01 */	addi r30, r30, 1
/* 80366BC8 00362108  3B FF 00 04 */	addi r31, r31, 4
lbl_80366BCC:
/* 80366BCC 0036210C  80 1D 00 0C */	lwz r0, 0xc(r29)
/* 80366BD0 00362110  7C 1E 00 40 */	cmplw r30, r0
/* 80366BD4 00362114  41 80 FF D8 */	blt lbl_80366BAC
/* 80366BD8 00362118  39 61 00 20 */	addi r11, r1, 0x20
/* 80366BDC 0036211C  48 1B 09 A9 */	bl func_80517584
/* 80366BE0 00362120  80 01 00 24 */	lwz r0, 0x24(r1)
/* 80366BE4 00362124  7C 08 03 A6 */	mtlr r0
/* 80366BE8 00362128  38 21 00 20 */	addi r1, r1, 0x20
/* 80366BEC 0036212C  4E 80 00 20 */	blr 

.global func_80366BF0
func_80366BF0:
/* 80366BF0 00362130  80 63 00 04 */	lwz r3, 4(r3)
/* 80366BF4 00362134  80 63 00 0C */	lwz r3, 0xc(r3)
/* 80366BF8 00362138  4E 80 00 20 */	blr 

.global func_80366BFC
func_80366BFC:
/* 80366BFC 0036213C  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80366C00 00362140  7C 08 02 A6 */	mflr r0
/* 80366C04 00362144  80 A3 00 04 */	lwz r5, 4(r3)
/* 80366C08 00362148  90 01 00 24 */	stw r0, 0x24(r1)
/* 80366C0C 0036214C  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 80366C10 00362150  7C 9F 23 78 */	mr r31, r4
/* 80366C14 00362154  93 C1 00 18 */	stw r30, 0x18(r1)
/* 80366C18 00362158  7C 7E 1B 78 */	mr r30, r3
/* 80366C1C 0036215C  38 65 00 0C */	addi r3, r5, 0xc
/* 80366C20 00362160  48 00 00 7D */	bl func_80366C9C
/* 80366C24 00362164  90 61 00 10 */	stw r3, 0x10(r1)
/* 80366C28 00362168  48 00 00 2C */	b lbl_80366C54
lbl_80366C2C:
/* 80366C2C 0036216C  2C 1F 00 00 */	cmpwi r31, 0
/* 80366C30 00362170  40 82 00 14 */	bne lbl_80366C44
/* 80366C34 00362174  38 61 00 10 */	addi r3, r1, 0x10
/* 80366C38 00362178  48 00 00 6D */	bl func_80366CA4
/* 80366C3C 0036217C  80 63 00 08 */	lwz r3, 8(r3)
/* 80366C40 00362180  48 00 00 44 */	b lbl_80366C84
lbl_80366C44:
/* 80366C44 00362184  38 61 00 10 */	addi r3, r1, 0x10
/* 80366C48 00362188  38 80 00 00 */	li r4, 0
/* 80366C4C 0036218C  3B FF FF FF */	addi r31, r31, -1
/* 80366C50 00362190  48 00 00 A5 */	bl func_80366CF4
lbl_80366C54:
/* 80366C54 00362194  80 7E 00 04 */	lwz r3, 4(r30)
/* 80366C58 00362198  38 63 00 0C */	addi r3, r3, 0xc
/* 80366C5C 0036219C  48 00 00 AD */	bl func_80366D08
/* 80366C60 003621A0  80 01 00 10 */	lwz r0, 0x10(r1)
/* 80366C64 003621A4  38 81 00 08 */	addi r4, r1, 8
/* 80366C68 003621A8  90 61 00 08 */	stw r3, 8(r1)
/* 80366C6C 003621AC  38 61 00 0C */	addi r3, r1, 0xc
/* 80366C70 003621B0  90 01 00 0C */	stw r0, 0xc(r1)
/* 80366C74 003621B4  48 00 00 9D */	bl func_80366D10
/* 80366C78 003621B8  2C 03 00 00 */	cmpwi r3, 0
/* 80366C7C 003621BC  40 82 FF B0 */	bne lbl_80366C2C
/* 80366C80 003621C0  38 60 00 00 */	li r3, 0
lbl_80366C84:
/* 80366C84 003621C4  80 01 00 24 */	lwz r0, 0x24(r1)
/* 80366C88 003621C8  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 80366C8C 003621CC  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 80366C90 003621D0  7C 08 03 A6 */	mtlr r0
/* 80366C94 003621D4  38 21 00 20 */	addi r1, r1, 0x20
/* 80366C98 003621D8  4E 80 00 20 */	blr 

.global func_80366C9C
func_80366C9C:
/* 80366C9C 003621DC  80 63 00 04 */	lwz r3, 4(r3)
/* 80366CA0 003621E0  4E 80 00 20 */	blr 

.global func_80366CA4
func_80366CA4:
/* 80366CA4 003621E4  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 80366CA8 003621E8  7C 08 02 A6 */	mflr r0
/* 80366CAC 003621EC  90 01 00 14 */	stw r0, 0x14(r1)
/* 80366CB0 003621F0  93 E1 00 0C */	stw r31, 0xc(r1)
/* 80366CB4 003621F4  83 E3 00 00 */	lwz r31, 0(r3)
/* 80366CB8 003621F8  2C 1F 00 00 */	cmpwi r31, 0
/* 80366CBC 003621FC  40 82 00 20 */	bne lbl_80366CDC
/* 80366CC0 00362200  3C 60 80 5C */	lis r3, lbl_805C1A02@ha
/* 80366CC4 00362204  3C A0 80 5C */	lis r5, lbl_805C19E0@ha
/* 80366CC8 00362208  38 63 1A 02 */	addi r3, r3, lbl_805C1A02@l
/* 80366CCC 0036220C  38 80 02 3D */	li r4, 0x23d
/* 80366CD0 00362210  38 A5 19 E0 */	addi r5, r5, lbl_805C19E0@l
/* 80366CD4 00362214  4C C6 31 82 */	crclr 6
/* 80366CD8 00362218  4B CA 4E 35 */	bl func_8000BB0C
lbl_80366CDC:
/* 80366CDC 0036221C  7F E3 FB 78 */	mr r3, r31
/* 80366CE0 00362220  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 80366CE4 00362224  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80366CE8 00362228  7C 08 03 A6 */	mtlr r0
/* 80366CEC 0036222C  38 21 00 10 */	addi r1, r1, 0x10
/* 80366CF0 00362230  4E 80 00 20 */	blr 

.global func_80366CF4
func_80366CF4:
/* 80366CF4 00362234  80 83 00 00 */	lwz r4, 0(r3)
/* 80366CF8 00362238  80 04 00 00 */	lwz r0, 0(r4)
/* 80366CFC 0036223C  90 03 00 00 */	stw r0, 0(r3)
/* 80366D00 00362240  7C 83 23 78 */	mr r3, r4
/* 80366D04 00362244  4E 80 00 20 */	blr 

.global func_80366D08
func_80366D08:
/* 80366D08 00362248  38 63 00 04 */	addi r3, r3, 4
/* 80366D0C 0036224C  4E 80 00 20 */	blr 

.global func_80366D10
func_80366D10:
/* 80366D10 00362250  80 84 00 00 */	lwz r4, 0(r4)
/* 80366D14 00362254  80 03 00 00 */	lwz r0, 0(r3)
/* 80366D18 00362258  7C 60 20 50 */	subf r3, r0, r4
/* 80366D1C 0036225C  30 03 FF FF */	addic r0, r3, -1
/* 80366D20 00362260  7C 60 19 10 */	subfe r3, r0, r3
/* 80366D24 00362264  4E 80 00 20 */	blr 
.global lbl_80366D28
lbl_80366D28:
/* 80366D28 00362268  80 03 00 08 */	lwz r0, 8(r3)
/* 80366D2C 0036226C  38 80 00 01 */	li r4, 1
/* 80366D30 00362270  38 A0 00 01 */	li r5, 1
/* 80366D34 00362274  2C 00 00 00 */	cmpwi r0, 0
/* 80366D38 00362278  41 82 00 18 */	beq lbl_80366D50
/* 80366D3C 0036227C  88 03 00 15 */	lbz r0, 0x15(r3)
/* 80366D40 00362280  54 00 07 FE */	clrlwi r0, r0, 0x1f
/* 80366D44 00362284  2C 00 00 01 */	cmpwi r0, 1
/* 80366D48 00362288  41 82 00 08 */	beq lbl_80366D50
/* 80366D4C 0036228C  38 A0 00 00 */	li r5, 0
lbl_80366D50:
/* 80366D50 00362290  2C 05 00 00 */	cmpwi r5, 0
/* 80366D54 00362294  40 82 00 18 */	bne lbl_80366D6C
/* 80366D58 00362298  C0 23 00 1C */	lfs f1, 0x1c(r3)
/* 80366D5C 0036229C  C0 02 14 40 */	lfs f0, lbl_806AC6C0-_SDA2_BASE_(r2)
/* 80366D60 003622A0  FC 00 08 00 */	fcmpu cr0, f0, f1
/* 80366D64 003622A4  41 82 00 08 */	beq lbl_80366D6C
/* 80366D68 003622A8  38 80 00 00 */	li r4, 0
lbl_80366D6C:
/* 80366D6C 003622AC  7C 83 23 78 */	mr r3, r4
/* 80366D70 003622B0  4E 80 00 20 */	blr 

.global func_80366D74
func_80366D74:
/* 80366D74 003622B4  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 80366D78 003622B8  7C 08 02 A6 */	mflr r0
/* 80366D7C 003622BC  90 01 00 14 */	stw r0, 0x14(r1)
/* 80366D80 003622C0  93 E1 00 0C */	stw r31, 0xc(r1)
/* 80366D84 003622C4  83 E3 00 00 */	lwz r31, 0(r3)
/* 80366D88 003622C8  2C 1F 00 00 */	cmpwi r31, 0
/* 80366D8C 003622CC  40 82 00 20 */	bne lbl_80366DAC
/* 80366D90 003622D0  3C 60 80 5A */	lis r3, lbl_805A278A@ha
/* 80366D94 003622D4  3C A0 80 5A */	lis r5, lbl_805A2768@ha
/* 80366D98 003622D8  38 63 27 8A */	addi r3, r3, lbl_805A278A@l
/* 80366D9C 003622DC  38 80 02 3D */	li r4, 0x23d
/* 80366DA0 003622E0  38 A5 27 68 */	addi r5, r5, lbl_805A2768@l
/* 80366DA4 003622E4  4C C6 31 82 */	crclr 6
/* 80366DA8 003622E8  4B CA 4D 65 */	bl func_8000BB0C
lbl_80366DAC:
/* 80366DAC 003622EC  37 FF FF FC */	addic. r31, r31, -4
/* 80366DB0 003622F0  40 82 00 20 */	bne lbl_80366DD0
/* 80366DB4 003622F4  3C 60 80 5C */	lis r3, lbl_805C1ADC@ha
/* 80366DB8 003622F8  3C A0 80 5C */	lis r5, lbl_805C1ABA@ha
/* 80366DBC 003622FC  38 63 1A DC */	addi r3, r3, lbl_805C1ADC@l
/* 80366DC0 00362300  38 80 01 93 */	li r4, 0x193
/* 80366DC4 00362304  38 A5 1A BA */	addi r5, r5, lbl_805C1ABA@l
/* 80366DC8 00362308  4C C6 31 82 */	crclr 6
/* 80366DCC 0036230C  4B CA 4D 41 */	bl func_8000BB0C
lbl_80366DD0:
/* 80366DD0 00362310  7F E3 FB 78 */	mr r3, r31
/* 80366DD4 00362314  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 80366DD8 00362318  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80366DDC 0036231C  7C 08 03 A6 */	mtlr r0
/* 80366DE0 00362320  38 21 00 10 */	addi r1, r1, 0x10
/* 80366DE4 00362324  4E 80 00 20 */	blr 

.global func_80366DE8
func_80366DE8:
/* 80366DE8 00362328  80 83 00 00 */	lwz r4, 0(r3)
/* 80366DEC 0036232C  80 04 00 00 */	lwz r0, 0(r4)
/* 80366DF0 00362330  90 03 00 00 */	stw r0, 0(r3)
/* 80366DF4 00362334  7C 83 23 78 */	mr r3, r4
/* 80366DF8 00362338  4E 80 00 20 */	blr 

.global func_80366DFC
func_80366DFC:
/* 80366DFC 0036233C  80 63 00 04 */	lwz r3, 4(r3)
/* 80366E00 00362340  4E 80 00 20 */	blr 

.global func_80366E04
func_80366E04:
/* 80366E04 00362344  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 80366E08 00362348  7C 08 02 A6 */	mflr r0
/* 80366E0C 0036234C  90 01 00 14 */	stw r0, 0x14(r1)
/* 80366E10 00362350  93 E1 00 0C */	stw r31, 0xc(r1)
/* 80366E14 00362354  83 E3 00 00 */	lwz r31, 0(r3)
/* 80366E18 00362358  2C 1F 00 00 */	cmpwi r31, 0
/* 80366E1C 0036235C  40 82 00 20 */	bne lbl_80366E3C
/* 80366E20 00362360  3C 60 80 5C */	lis r3, lbl_805C1AAF@ha
/* 80366E24 00362364  3C A0 80 5C */	lis r5, lbl_805C1A8D@ha
/* 80366E28 00362368  38 63 1A AF */	addi r3, r3, lbl_805C1AAF@l
/* 80366E2C 0036236C  38 80 02 3D */	li r4, 0x23d
/* 80366E30 00362370  38 A5 1A 8D */	addi r5, r5, lbl_805C1A8D@l
/* 80366E34 00362374  4C C6 31 82 */	crclr 6
/* 80366E38 00362378  4B CA 4C D5 */	bl func_8000BB0C
lbl_80366E3C:
/* 80366E3C 0036237C  38 7F FF FC */	addi r3, r31, -4
/* 80366E40 00362380  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 80366E44 00362384  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80366E48 00362388  7C 08 03 A6 */	mtlr r0
/* 80366E4C 0036238C  38 21 00 10 */	addi r1, r1, 0x10
/* 80366E50 00362390  4E 80 00 20 */	blr 

.global func_80366E54
func_80366E54:
/* 80366E54 00362394  80 83 00 00 */	lwz r4, 0(r3)
/* 80366E58 00362398  80 04 00 00 */	lwz r0, 0(r4)
/* 80366E5C 0036239C  90 03 00 00 */	stw r0, 0(r3)
/* 80366E60 003623A0  7C 83 23 78 */	mr r3, r4
/* 80366E64 003623A4  4E 80 00 20 */	blr 

.global func_80366E68
func_80366E68:
/* 80366E68 003623A8  38 63 00 04 */	addi r3, r3, 4
/* 80366E6C 003623AC  4E 80 00 20 */	blr 

.global func_80366E70
func_80366E70:
/* 80366E70 003623B0  80 84 00 00 */	lwz r4, 0(r4)
/* 80366E74 003623B4  80 03 00 00 */	lwz r0, 0(r3)
/* 80366E78 003623B8  7C 60 20 50 */	subf r3, r0, r4
/* 80366E7C 003623BC  30 03 FF FF */	addic r0, r3, -1
/* 80366E80 003623C0  7C 60 19 10 */	subfe r3, r0, r3
/* 80366E84 003623C4  4E 80 00 20 */	blr 

